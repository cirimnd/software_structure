import{q as I,f as B,r as k,N as O,L as p,y as g,K as $,a as u,a3 as V,a4 as N,a5 as R,e as _,v as M,a6 as j,D as z,C as D,a7 as E,T as K,a8 as q,$ as w}from"./index-WXGUVd8R.js";import{u as F}from"./use-placeholder-ClGZrsmh.js";import{r as L,u as Y}from"./use-route-BdHUjtqw.js";const[T,C]=I("tabbar"),Z={route:Boolean,fixed:p,border:p,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:$(0),safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(T);var G=B({name:T,props:Z,emits:["change","update:modelValue"],setup(e,{emit:d,slots:o}){const m=k(),{linkChildren:f}=O(A),c=F(m,C),b=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},n=()=>{var a;const{fixed:t,zIndex:r,border:l}=e;return u("div",{ref:m,role:"tablist",style:V(r),class:[C({fixed:t}),{[N]:l,"van-safe-area-bottom":b()}]},[(a=o.default)==null?void 0:a.call(o)])};return f({props:e,setActive:(a,t)=>{R(e.beforeChange,{args:[a],done(){d("update:modelValue",a),d("change",a),t()}})}}),()=>e.fixed&&e.placeholder?c(n):n()}});const ee=_(G),[H,h]=I("tabbar-item"),J=M({},L,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var Q=B({name:H,props:J,emits:["click"],setup(e,{emit:d,slots:o}){const m=Y(),f=j().proxy,{parent:c,index:b}=z(A);if(!c)return;const n=D(()=>{var t;const{route:r,modelValue:l}=c.props;if(r&&"$route"in f){const{$route:v}=f,{to:i}=e,s=q(i)?i:{path:i};return!!v.matched.find(P=>{const y="path"in s&&s.path===P.path,S="name"in s&&s.name===P.name;return y||S})}return((t=e.name)!=null?t:b.value)===l}),x=t=>{var r;n.value||c.setActive((r=e.name)!=null?r:b.value,m),d("click",t)},a=()=>{if(o.icon)return o.icon({active:n.value});if(e.icon)return u(w,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var t;const{dot:r,badge:l}=e,{activeColor:v,inactiveColor:i}=c.props,s=n.value?v:i;return u("div",{role:"tab",class:h({active:n.value}),style:{color:s},tabindex:0,"aria-selected":n.value,onClick:x},[u(E,K({dot:r,class:h("icon"),content:l},e.badgeProps),{default:a}),u("div",{class:h("text")},[(t=o.default)==null?void 0:t.call(o,{active:n.value})])])}}});const ae=_(Q);export{ae as T,ee as a};
